{"version":3,"sources":["components/todo/form.js","hooks/useForm.js","components/todo/list.js","components/todo/todo-connected.js","hooks/useAjax.js","App.js","index.js"],"names":["props","callback","useState","values","setValues","e","persist","target","name","value","preventDefault","reset","useForm","handleSubmit","handleInputChange","onSubmit","placeholder","onChange","defaultValue","type","min","max","TodoList","this","list","map","item","className","complete","toString","key","_id","onClick","handleComplete","text","editItem","deleteItem","React","Component","todoAPI","ToDo","setList","url","method","body","axios","mode","cache","headers","data","axiosApiInstance","page","setPage","results","setResults","elementsPerPage","setElementsPerPage","show","setShow","useEffect","console","log","_getTodoItems","slice","_sortResultItems","items","sort","a","b","difficulty","then","sortedItems","catch","error","filter","length","due","Date","savedItem","id","i","listItem","hidden","buttons","push","style","background","Math","ceil","_renderPagesNumber","App","Main","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.654ac6c9.chunk.js","sourcesContent":["import React from 'react';\nimport useForm from '../../hooks/useForm';\n\n\nexport default (props) => {\n\nconst [handleInputChange, handleSubmit] = useForm(props.handleSubmit);\n\n    return (\n      <>\n        <h3>Add Item</h3>\n        <form onSubmit={handleSubmit}>\n          <label>\n            <span>To Do Item</span>\n            <input\n              name=\"text\"\n              placeholder=\"Add To Do List Item\"\n              onChange={handleInputChange}\n            />\n          </label>\n          <label>\n            <span>Difficulty Rating</span>\n            <input defaultValue=\"1\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange} />\n          </label>\n          <label>\n            <span>Assigned To</span>\n            <input type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} />\n          </label>\n          <button>Add Item</button>\n        </form>\n      </>\n    );\n  }\n","import {useState} from 'react';\n\nexport default (callback) => {\n    const [values, setValues] = useState({});\n\n    const handleInputChange = e => {\n        e.persist();\n        setValues({ ...values, [e.target.name]: e.target.value });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        e.target.reset();\n        callback(values);\n        const newItem = {};\n        setValues(newItem);\n    }\n\n    return [handleInputChange, handleSubmit];\n}\n","import React from 'react';\n\nclass TodoList extends React.Component {\n\n  render() {\n    return (\n      <ul>\n        {this.props.list.map(item => (\n          <li\n            className={`complete-${item.complete.toString()}`}\n            key={item._id}\n          >\n            <span onClick={() => this.props.handleComplete(item._id)}>\n              {item.text}\n            </span>\n          <button onClick={() => this.props.editItem(item._id)}>\n          edit\n          </button>\n          <button onClick={() => this.props.deleteItem(item._id)}>\n          del\n          </button>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default TodoList;\n","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport useAjax from '../../hooks/useAjax';\n\nimport './todo.scss';\n\nconst todoAPI = 'https://to-do-adnan.herokuapp.com/api/v1/items';\n\n\nconst ToDo = () => {\n\n  const [list, setList] = useState([]);\n  const [axiosApiInstance] = useAjax();\n  const [page, setPage] = useState(0);\n  const [results, setResults] = useState([]); // allResults\n  const [elementsPerPage, setElementsPerPage] = useState(5); // default 5 elements per Page\n  const [show, setShow] = useState(true);\n\n  useEffect(() => {\n    console.log('component did moount!');\n    _getTodoItems();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const list = results.slice(((page - 1) * elementsPerPage), page * elementsPerPage);\n    setList(list);\n    }, [elementsPerPage, page, results])\n\n  const _sortResultItems = (items) => { // sortedItems desc\n    return items.sort((a, b) => (a.difficulty < b.difficulty) ? 1 : -1)\n  };\n\n  const _getTodoItems = () => {\n    axiosApiInstance(todoAPI, \"get\")\n      .then(({ data }) => {\n        const sortedItems = _sortResultItems(data.results);\n        setResults(sortedItems);\n        if(page === 0) setPage(1);\n      })\n      .catch(console.error);\n  };\n\n  const _addItem = (item) => {\n    item.due = new Date();\n    axiosApiInstance(\n      todoAPI,\n      'post',\n      item\n    ).then(({ data: savedItem }) => {\n        setResults(_sortResultItems([...results, savedItem]))\n      })\n      .catch(console.error);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n\n      item.complete = !item.complete;\n\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"put\", item)\n        .then(() => {\n          setList(list.map(listItem => listItem._id === item._id ? item : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _deleteItem = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"delete\")\n        .then(() => {\n          setResults(results.filter(listItem => listItem._id !== item._id));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _renderPagesNumber = () => {\n    const buttons = [];\n    for (let i = 1; i <= Math.ceil(results.length / elementsPerPage); i++) {\n      buttons.push(<button style={{background: page === i ? \"green\" : \"\"}} onClick={ () => setPage(i)} key={i}>{i}</button>)\n    }\n    return buttons;\n  }\n\n  return (\n    <>\n      <header>\n        <h2>\n          There are {list.filter(item => !item.complete).length} Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm handleSubmit={_addItem} />\n        </div>\n\n        <div>\n          { show && <TodoList\n            list={list}\n            deleteItem={_deleteItem}\n            handleComplete={_toggleComplete}\n          />\n        }\n        </div>\n        <div>\n          <button hidden={page === 1} onClick={() =>setPage(page - 1)}>prev</button>\n          { _renderPagesNumber()  }\n          <button hidden={page === Math.ceil(results.length / elementsPerPage)} onClick={() =>setPage(page + 1)}>next</button>\n\n          <br/>\n          <br/>\n\n          <label>elementsPerPage</label>\n          &nbsp;\n          &nbsp;\n          <select defaultValue={5} onChange={(e) => setElementsPerPage(e.target.value)}>\n            <option value={3}>3</option>\n            <option value={5}>5</option>\n            <option value={7}>7</option>\n          </select>\n          <br/>\n          <label>hideItems</label>\n          <button onClick={() => setShow(!show)}>{show + \"\"}</button>\n\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import axios from \"axios\";\n\nexport default () => {\n\n    const axiosApiInstance = (url, method, body) => {\n      return axios({\n        url: url,\n        method: method,\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json' },\n        data: body\n      })\n    }\n\n    return [axiosApiInstance];\n}\n","import React from 'react';\n\nimport ToDo from './components/todo/todo-connected.js';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <>\n        <ToDo />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}