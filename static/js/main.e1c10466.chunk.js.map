{"version":3,"sources":["components/todo/form.js","hooks/useForm.js","components/todo/list.js","hooks/useAjax.js","components/todo/todo-connected.js","components/auth/context.js","components/auth/Login.js","components/auth/Signup.js","components/auth/auth.js","App.js","index.js"],"names":["props","callback","useState","values","setValues","e","persist","target","name","value","preventDefault","reset","useForm","handleSubmit","handleInputChange","Form","data-testid","onSubmit","Row","Group","as","Col","Label","Control","type","onChange","placeholder","defaultValue","min","max","varient","Button","TodoList","this","list","map","item","key","_id","style","float","display","onClick","handleComplete","text","difficulty","complete","assignee","deleteItem","React","Component","url","method","body","moreHeaders","axios","mode","cache","headers","data","todoAPI","ToDo","setList","useAjax","axiosApiInstance","page","setPage","results","setResults","elementsPerPage","setElementsPerPage","showCompleted","setShowCompleted","sortBy","setSortBy","useEffect","console","log","_getTodoItems","slice","_sortResultItems","filter","listItem","items","sort","a","b","then","sortedItems","catch","error","length","className","due","Date","savedItem","id","i","hidden","buttons","push","background","Math","ceil","_renderPagesNumber","API","AuthContext","createContext","AuthProvider","loggedIn","setLoggedIn","user","setUser","token","setToken","okToContinue","setOkToContinue","switchToSignup","setSwitchToSignup","validateToken","useCallback","jwt","decode","setLoginState","cookie","save","qs","URLSearchParams","window","location","search","cookieToken","load","get","store","login","username","password","encoded","base64","encode","Authorization","response","signup","logout","remove","can","capability","capabilities","includes","Provider","children","Login","context","useContext","setUsername","setPassword","sm","required","variant","size","Signup","role","setRole","email","setEmail","Auth","checkCanContinue","condition","App","Main","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.e1c10466.chunk.js","sourcesContent":["import React from 'react';\nimport useForm from '../../hooks/useForm';\n\nimport { Button, Form, Col } from \"react-bootstrap\"\n\nexport default (props) => {\n\nconst [handleInputChange, handleSubmit] = useForm(props.handleSubmit);\n\n    return (\n      <>\n      <h2>Add Item:</h2>\n      <Form data-testid=\"form\" onSubmit={handleSubmit}>\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>To Do Item</Form.Label>\n            <Form.Control type=\"text\" name=\"text\" onChange={handleInputChange} placeholder=\"Add To Do List Item\" />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>Assigned To</Form.Label>\n            <Form.Control type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>Difficulty Rating</Form.Label>\n            <Form.Control defaultValue=\"2\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" varient=\"primary\" onChange={handleInputChange}  />\n          </Form.Group>\n        </Form.Row>\n          <Button varient=\"primary\" type=\"submit\">Add Item</Button>\n        </Form>\n      </>\n    );\n  }\n","import {useState} from 'react';\n\nexport default (callback) => {\n    const [values, setValues] = useState({});\n\n    const handleInputChange = e => {\n        e.persist();\n        setValues({ ...values, [e.target.name]: e.target.value });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        e.target.reset();\n        callback(values);\n        const newItem = {};\n        setValues(newItem);\n    }\n\n    return [handleInputChange, handleSubmit];\n}\n","import React from 'react';\n\nclass TodoList extends React.Component {\n\n  render() {\n\n    return (\n      <ul>\n        {this.props.list.map(item => (\n          <li\n            key={item._id}\n          >\n            <span style={{float: \"left\", display: \"inline\"}} onClick={() => this.props.handleComplete(item._id)}>\n              <b>text</b> {item.text} &nbsp;\n              <b>difficulty</b> {item.difficulty} &nbsp;\n              <b>complete</b> &nbsp;\n              <b style={{\"backgroundColor\": item.complete ? \"red\": \"green\", \"color\": \"white\"}}>{item.complete ? \"completed\": \"pending\"}</b>\n              <br/>\n              <br/>\n              <b>assignee</b> {item.assignee}\n            </span>\n          <button onClick={() => this.props.deleteItem(item._id)}>\n          del\n          </button>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default TodoList;\n","import axios from \"axios\";\n\nexport default () => {\n\n    const axiosApiInstance = (url, method, body, moreHeaders) => {\n      return axios({\n        url: url,\n        method: method,\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json', ...moreHeaders },\n        data: body\n      })\n    }\n\n    return [axiosApiInstance];\n}\n","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport useAjax from '../../hooks/useAjax';\n\nimport './todo.scss';\n\nconst todoAPI = 'https://to-do-adnan.herokuapp.com/api/v1/items';\n\n\nconst ToDo = () => {\n\n  const [list, setList] = useState([]);\n  const [axiosApiInstance] = useAjax();\n  const [page, setPage] = useState(0);\n  const [results, setResults] = useState([]); // allResults\n  const [elementsPerPage, setElementsPerPage] = useState(5); // default 5 elements per Page\n  const [showCompleted, setShowCompleted] = useState(true);\n  const [sortBy, setSortBy] = useState(\"difficulty\");\n\n  useEffect(() => {\n    console.log('component did moount!');\n    _getTodoItems();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const list = results.slice(((page - 1) * elementsPerPage), page * elementsPerPage);\n    setList(list);\n  }, [elementsPerPage, page, results])\n\n  useEffect(() => {\n    setResults(_sortResultItems([...results]));\n    // eslint-disable-next-line\n  }, [sortBy])\n\n  useEffect(() => {\n    if(!showCompleted){\n      setResults(results.filter(listItem => listItem.complete !== true));\n    } else {\n      _getTodoItems();\n    }\n    // eslint-disable-next-line\n  }, [showCompleted])\n\n  const _sortResultItems = (items) => { // sortedItems desc\n    return items.sort((a, b) => (a[sortBy] < b[sortBy]) ? 1 : -1)\n  };\n\n  const _getTodoItems = () => {\n    axiosApiInstance(todoAPI, \"get\")\n      .then(({ data }) => {\n        const sortedItems = _sortResultItems(data.results);\n        setResults(sortedItems);\n        if(page === 0) setPage(1);\n      })\n      .catch(console.error);\n  };\n\n  const _addItem = (item) => {\n    item.due = new Date();\n    axiosApiInstance(\n      todoAPI,\n      'post',\n      item\n    ).then(({ data: savedItem }) => {\n        setResults(_sortResultItems([...results, savedItem]))\n      })\n      .catch(console.error);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n\n      item.complete = !item.complete;\n\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"put\", item)\n        .then(() => {\n          setList(list.map(listItem => listItem._id === item._id ? item : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _deleteItem = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"delete\")\n        .then(() => {\n          setResults(results.filter(listItem => listItem._id !== item._id));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _renderPagesNumber = () => {\n    const buttons = [];\n    for (let i = 1; i <= Math.ceil(results.length / elementsPerPage); i++) {\n      buttons.push(<button style={{background: page === i ? \"green\" : \"\"}} onClick={ () => setPage(i)} key={i}>{i}</button>)\n    }\n    return buttons;\n  }\n\n  return (\n    <>\n      <header data-testid=\"itemsHeader\">\n        <h2>\n          There are {results.filter(item => !item.complete).length} Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm handleSubmit={_addItem} />\n        </div>\n\n        <div>\n          <TodoList\n            list={list}\n            deleteItem={_deleteItem}\n            handleComplete={_toggleComplete}\n          />\n        </div>\n        <div>\n          <button hidden={page === 1} onClick={() =>setPage(page - 1)}>prev</button>\n          { _renderPagesNumber()  }\n          <button hidden={page === Math.ceil(results.length / elementsPerPage)} onClick={() =>setPage(page + 1)}>next</button>\n\n          <br/>\n          <br/>\n\n          <label>elementsPerPage</label>\n          &nbsp;\n          &nbsp;\n          <select data-testid=\"elementsPerPage\" defaultValue={5} onChange={(e) => setElementsPerPage(e.target.value)}>\n            <option value={3}>3</option>\n            <option value={5}>5</option>\n            <option value={7}>7</option>\n          </select>\n          <br/>\n          <label>Sort By</label>\n          &nbsp;\n          &nbsp;\n          <select data-testid=\"sortBy\" defaultValue=\"difficulty\" onChange={(e) => setSortBy(e.target.value)}>\n            <option value=\"difficulty\">difficulty</option>\n            <option value=\"complete\">complete</option>\n          </select>\n          <br/>\n          <label>hideCompleted</label>\n          <button data-testid=\"hideCompleted\" onClick={() => setShowCompleted(!showCompleted)}>{showCompleted + \"\"}</button>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport cookie from 'react-cookies';\nimport jwt from 'jsonwebtoken';\nimport useAjax from '../../hooks/useAjax';\nimport base64 from 'base-64';\n\nconst API = \"https://api-js401.herokuapp.com\";\n\nexport const AuthContext = React.createContext();\n\n\nfunction AuthProvider (props) {\n\n    const [axiosApiInstance] = useAjax();\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [user, setUser] = useState({})\n    const [token, setToken] = useState();\n    const [okToContinue, setOkToContinue] = useState(false);\n    const [switchToSignup, setSwitchToSignup] = useState(false);\n\n\n    const can = (capability) => {\n        return store.user?.capabilities?.includes(capability);\n    }\n\n    const login = (username, password) => {\n      const encoded = base64.encode(`${username}:${password}`);\n        axiosApiInstance(`${API}/signin`, \"post\", { username, password }, { Authorization: `Basic ${encoded}` })\n        .then(response => {\n            validateToken(response?.data?.token);\n        })\n        .catch(console.error);\n    }\n\n    const signup = (body) => {\n      axiosApiInstance(`${API}/signup`, \"post\", body)\n        .then(response => {\n            console.log(response.data)\n            validateToken(response?.data?.token);\n        })\n        .catch(console.error);\n    }\n\n    const validateToken = useCallback( token => {\n        try {\n        const user = jwt.decode(token);\n        if (user){\n          console.log(\"user\", user);\n          setLoginState(true, token, user);\n        } else {\n          console.log('Token inValid no-user');\n          setLoginState(false, null, {});\n        }\n        }\n        catch (e) {\n        setLoginState(false, null, {});\n        console.log('Token Validation Error', e);\n        }\n\n    },[]);\n\n    const logout = () => {\n      cookie.remove('auth');\n      setLoginState(false, null, {});\n    };\n\n    const setLoginState = async (loggedIn, token, user) => {\n        cookie.save('auth', token);\n        await setToken(token);\n        await setLoggedIn(loggedIn);\n        await setUser(user)\n    };\n\n    useEffect(() => {\n        const qs = new URLSearchParams(window.location.search);\n        const cookieToken = cookie.load('auth');\n        const token = qs.get('token') || cookieToken || null || props.token;\n        console.log(\"token\", token)\n        validateToken(token);\n    },[props.token, validateToken]);\n\n    const store = {\n        loggedIn,\n        login,\n        signup,\n        logout,\n        can,\n        user,\n        token,\n        okToContinue,\n        setOkToContinue,\n        switchToSignup,\n        setSwitchToSignup\n    };\n\n        return (\n        <AuthContext.Provider value={store}>\n            {props.children}\n        </AuthContext.Provider>\n    );\n}\n\nexport default AuthProvider;\n","import React, { useContext, useState } from 'react';\nimport { AuthContext } from './context.js';\n\nimport { Form, Col, Button } from \"react-bootstrap\";\n\nconst Login = () => {\n\n    const context = useContext(AuthContext);\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        context.login(username, password);\n    };\n\n    return (\n        <>\n        <center>\n        <h3><b>Login</b></h3>\n        <Form data-testid=\"login-form\" className=\"col-lg-6 offset-lg-3\" onSubmit={handleSubmit}>\n          <Form.Row>\n            <Form.Group as={Col} sm=\"4\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                  required\n                  placeholder='Username'\n                  name='username'\n                  type='text'\n                  onChange={(e) => setUsername(e.target.value)}\n                  />\n            </Form.Group>\n          </Form.Row>\n\n          <Form.Row>\n            <Form.Group as={Col} sm=\"4\" >\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                required\n                placeholder='password'\n                name='password'\n                type='password'\n                onChange={(e) => setPassword(e.target.value)}\n                  />\n            </Form.Group>\n          </Form.Row>\n\n          <Form.Row>\n            <Button type=\"submit\" variant=\"primary\" className=\"mr-sm-4 submit-btn\" size=\"md\">Login</Button>\n            <Button variant=\"info\" onClick={() => context.setSwitchToSignup(true)}>Signup</Button>\n            </Form.Row>\n          </Form>\n          </center>\n        </>\n    );\n};\n\nexport default Login;\n","import React, { useContext, useState } from 'react';\nimport { AuthContext } from './context.js';\n\nimport { Form, Col, Button } from \"react-bootstrap\";\n\nconst Signup = () => {\n\n    const context = useContext(AuthContext);\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState('');\n    const [email, setEmail] = useState('');\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        context.signup({ username, password, email, role });\n    };\n\n    return (\n\n      <>\n      <center>\n      <h3><b>Signup</b></h3>\n      <Form  className=\"col-lg-6 offset-lg-3\" data-testid=\"form\" onSubmit={handleSubmit}>\n        <Form.Row>\n          <Form.Group as={Col} sm=\"4\">\n            <Form.Label>Username</Form.Label>\n            <Form.Control\n                required\n                placeholder='Username'\n                name='username'\n                type='text'\n                onChange={(e) => setUsername(e.target.value)}\n                />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col} sm=\"4\" >\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              placeholder='password'\n              name='password'\n              type='password'\n              onChange={(e) => setPassword(e.target.value)}\n                />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col} sm=\"4\" >\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n            required\n            className=\"mr-sm-5\"\n            placeholder='email'\n            name='email'\n            type='email'\n            onChange={(e) => setEmail(e.target.value)}\n                />\n          </Form.Group>\n        </Form.Row>\n\n\n        <Form.Row>\n          <Form.Group as={Col} sm=\"4\" >\n            <Form.Label>Role</Form.Label>\n            <Form.Control\n              required\n              className=\"mr-sm-5\"\n              placeholder='role'\n              name='role'\n              type='text'\n              onChange={(e) => setRole(e.target.value)}\n                />\n          </Form.Group>\n        </Form.Row>\n\n\n        <Form.Row>\n          <Button type=\"submit\" variant=\"primary\" className=\"mr-sm-4\" size=\"md\">Signup</Button>\n          <Button variant=\"info\" onClick={() => context.setSwitchToSignup(false)}>Back to Login</Button>\n          </Form.Row>\n        </Form>\n        </center>\n        </>\n    );\n};\n\nexport default Signup;\n","import React, { useContext, useEffect, useCallback } from 'react';\n\nimport { Button } from \"react-bootstrap\"\n\nimport { AuthContext } from './context';\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\n\nimport { If, Then, Else } from 'react-if';\n\nconst Auth = (props) => {\n\n    const context = useContext(AuthContext);\n\n    const checkCanContinue = useCallback(() => {\n        if(context.loggedIn){\n            context.setOkToContinue(true);\n        }\n    },[context])\n\n\n    useEffect(() => {\n        checkCanContinue();\n    }, [checkCanContinue]);\n\n    return (\n      <If condition={context.loggedIn}>\n        <Then> {/* if loggedIn */}\n          <If condition={context.okToContinue}>\n            <Then>\n            <Button variant=\"danger\" onClick={() => context.logout()}>logout</Button>\n            {props.children}\n            </Then>\n            <Else>\n              <p>Forbidden!</p>\n            </Else>\n          </If>\n        </Then>\n        <Else> {/* if not loggedIn */ }\n          <If condition={context.switchToSignup}>\n          <Then>\n            <Signup/>\n          </Then>\n          <Else>\n            <Login/>\n          </Else>\n          </If>\n        </Else>\n      </If>\n    );\n\n};\n\nexport default Auth;\n","import React from 'react';\n\nimport ToDo from './components/todo/todo-connected.js';\nimport Auth from './components/auth/auth';\nimport AuthProvider from './components/auth/context';\n\nimport \"./App.css\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"app\">\n        <AuthProvider token={this.props.token}>\n          <Auth>\n          <ToDo />\n          </Auth>\n        </AuthProvider>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}