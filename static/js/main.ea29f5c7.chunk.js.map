{"version":3,"sources":["components/todo/form.js","hooks/useForm.js","components/todo/list.js","components/todo/todo-connected.js","hooks/useAjax.js","App.js","index.js"],"names":["props","callback","useState","values","setValues","e","persist","target","name","value","preventDefault","reset","useForm","handleSubmit","handleInputChange","Form","data-testid","onSubmit","Row","Group","as","Col","Label","Control","type","onChange","placeholder","defaultValue","min","max","varient","Button","TodoList","console","log","this","list","map","item","key","_id","style","float","display","onClick","handleComplete","text","difficulty","complete","assignee","deleteItem","React","Component","todoAPI","ToDo","setList","url","method","body","moreHeaders","axios","mode","cache","headers","data","axiosApiInstance","page","setPage","results","setResults","elementsPerPage","setElementsPerPage","showCompleted","setShowCompleted","sortBy","setSortBy","useEffect","_getTodoItems","slice","_sortResultItems","filter","listItem","items","sort","a","b","then","sortedItems","catch","error","length","className","due","Date","savedItem","id","i","hidden","buttons","push","background","Math","ceil","_renderPagesNumber","App","Main","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.ea29f5c7.chunk.js","sourcesContent":["import React from 'react';\nimport useForm from '../../hooks/useForm';\n\nimport { Button, Form, Col } from \"react-bootstrap\"\n\nexport default (props) => {\n\nconst [handleInputChange, handleSubmit] = useForm(props.handleSubmit);\n\n    return (\n      <>\n      <h2>Add Item:</h2>\n      <Form data-testid=\"form\" onSubmit={handleSubmit}>\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>To Do Item</Form.Label>\n            <Form.Control type=\"text\" name=\"text\" onChange={handleInputChange} placeholder=\"Add To Do List Item\" />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>Assigned To</Form.Label>\n            <Form.Control type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group as={Col}>\n            <Form.Label>Difficulty Rating</Form.Label>\n            <Form.Control defaultValue=\"2\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" varient=\"primary\" onChange={handleInputChange}  />\n          </Form.Group>\n        </Form.Row>\n          <Button varient=\"primary\" type=\"submit\">Add Item</Button>\n        </Form>\n      </>\n    );\n  }\n","import {useState} from 'react';\n\nexport default (callback) => {\n    const [values, setValues] = useState({});\n\n    const handleInputChange = e => {\n        e.persist();\n        setValues({ ...values, [e.target.name]: e.target.value });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        e.target.reset();\n        callback(values);\n        const newItem = {};\n        setValues(newItem);\n    }\n\n    return [handleInputChange, handleSubmit];\n}\n","import React from 'react';\n\nclass TodoList extends React.Component {\n\n  render() {\n    console.log(this.props.list)\n\n    return (\n      <ul>\n        {this.props.list.map(item => (\n          <li\n            key={item._id}\n          >\n            <span style={{float: \"left\", display: \"inline\"}} onClick={() => this.props.handleComplete(item._id)}>\n              <b>text</b> {item.text} &nbsp;\n              <b>difficulty</b> {item.difficulty} &nbsp;\n              <b>complete</b> &nbsp;\n              <b style={{\"backgroundColor\": item.complete ? \"red\": \"green\", \"color\": \"white\"}}>{item.complete ? \"completed\": \"pending\"}</b>\n              <br/>\n              <br/>\n              <b>assignee</b> {item.assignee}\n            </span>\n          <button onClick={() => this.props.deleteItem(item._id)}>\n          del\n          </button>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default TodoList;\n","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport useAjax from '../../hooks/useAjax';\n\nimport './todo.scss';\n\nconst todoAPI = 'https://to-do-adnan.herokuapp.com/api/v1/items';\n\n\nconst ToDo = () => {\n\n  const [list, setList] = useState([]);\n  const [axiosApiInstance] = useAjax();\n  const [page, setPage] = useState(0);\n  const [results, setResults] = useState([]); // allResults\n  const [elementsPerPage, setElementsPerPage] = useState(5); // default 5 elements per Page\n  const [showCompleted, setShowCompleted] = useState(true);\n  const [sortBy, setSortBy] = useState(\"difficulty\");\n\n  useEffect(() => {\n    console.log('component did moount!');\n    _getTodoItems();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    const list = results.slice(((page - 1) * elementsPerPage), page * elementsPerPage);\n    setList(list);\n  }, [elementsPerPage, page, results])\n\n  useEffect(() => {\n    setResults(_sortResultItems([...results]));\n    // eslint-disable-next-line\n  }, [sortBy])\n\n  useEffect(() => {\n    if(!showCompleted){\n      setResults(results.filter(listItem => listItem.complete !== true));\n    } else {\n      _getTodoItems();\n    }\n    // eslint-disable-next-line\n  }, [showCompleted])\n\n  const _sortResultItems = (items) => { // sortedItems desc\n    return items.sort((a, b) => (a[sortBy] < b[sortBy]) ? 1 : -1)\n  };\n\n  const _getTodoItems = () => {\n    axiosApiInstance(todoAPI, \"get\")\n      .then(({ data }) => {\n        const sortedItems = _sortResultItems(data.results);\n        setResults(sortedItems);\n        if(page === 0) setPage(1);\n      })\n      .catch(console.error);\n  };\n\n  const _addItem = (item) => {\n    item.due = new Date();\n    axiosApiInstance(\n      todoAPI,\n      'post',\n      item\n    ).then(({ data: savedItem }) => {\n        setResults(_sortResultItems([...results, savedItem]))\n      })\n      .catch(console.error);\n  };\n\n  const _toggleComplete = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n\n      item.complete = !item.complete;\n\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"put\", item)\n        .then(() => {\n          setList(list.map(listItem => listItem._id === item._id ? item : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _deleteItem = id => {\n\n    let item = list.filter(i => i._id === id)[0] || {};\n\n    if (item._id) {\n      let url = `${todoAPI}/${id}`;\n\n      axiosApiInstance(url, \"delete\")\n        .then(() => {\n          setResults(results.filter(listItem => listItem._id !== item._id));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _renderPagesNumber = () => {\n    const buttons = [];\n    for (let i = 1; i <= Math.ceil(results.length / elementsPerPage); i++) {\n      buttons.push(<button style={{background: page === i ? \"green\" : \"\"}} onClick={ () => setPage(i)} key={i}>{i}</button>)\n    }\n    return buttons;\n  }\n\n  return (\n    <>\n      <header>\n        <h2 data-testid=\"itemsHeader\">\n          There are {list.filter(item => !item.complete).length} Items To Complete\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm handleSubmit={_addItem} />\n        </div>\n\n        <div>\n          <TodoList\n            list={list}\n            deleteItem={_deleteItem}\n            handleComplete={_toggleComplete}\n          />\n        </div>\n        <div>\n          <button hidden={page === 1} onClick={() =>setPage(page - 1)}>prev</button>\n          { _renderPagesNumber()  }\n          <button hidden={page === Math.ceil(results.length / elementsPerPage)} onClick={() =>setPage(page + 1)}>next</button>\n\n          <br/>\n          <br/>\n\n          <label>elementsPerPage</label>\n          &nbsp;\n          &nbsp;\n          <select data-testid=\"elementsPerPage\" defaultValue={5} onChange={(e) => setElementsPerPage(e.target.value)}>\n            <option value={3}>3</option>\n            <option value={5}>5</option>\n            <option value={7}>7</option>\n          </select>\n          <br/>\n          <label>Sort By</label>\n          &nbsp;\n          &nbsp;\n          <select data-testid=\"sortBy\" defaultValue=\"difficulty\" onChange={(e) => setSortBy(e.target.value)}>\n            <option value=\"difficulty\">difficulty</option>\n            <option value=\"complete\">complete</option>\n          </select>\n          <br/>\n          <label>hideCompleted</label>\n          <button data-testid=\"hideCompleted\" onClick={() => setShowCompleted(!showCompleted)}>{showCompleted + \"\"}</button>\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import axios from \"axios\";\n\nexport default () => {\n\n    const axiosApiInstance = (url, method, body, moreHeaders) => {\n      return axios({\n        url: url,\n        method: method,\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: { 'Content-Type': 'application/json', ...moreHeaders },\n        data: body\n      })\n    }\n\n    return [axiosApiInstance];\n}\n","import React from 'react';\n\nimport ToDo from './components/todo/todo-connected.js';\n// import Auth from './components/auth/auth';\n// import AuthProvider from './components/auth/context';\n\nimport \"./App.css\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"app\">\n      {/*\n        <AuthProvider>\n          <Auth>\n          */ }\n          <ToDo />\n          {/*\n          </Auth>\n        </AuthProvider>\n          */}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js';\n\nclass Main extends React.Component {\n  render() {\n    return <App />;\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}